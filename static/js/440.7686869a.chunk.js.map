{"version":3,"file":"static/js/440.7686869a.chunk.js","mappings":"kNACA,GAAgB,QAAU,kCAAkC,IAAM,8BAA8B,YAAc,sCAAsC,KAAO,gC,kBCKrJA,GAAOC,EAAAA,EAAAA,OAAK,kBAAM,8BAClBC,GAAUD,EAAAA,EAAAA,OAAK,kBAAM,gCAqE3B,EAnEyB,WAAO,IAAD,IAUnBE,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAwBE,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAY,iBAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAUG,aAAb,aAAG,EAAiBC,YAApB,QAVa,CAC3BJ,SAAU,CACNK,SAAU,IACVC,OAAQ,MAShBC,EAAAA,EAAAA,YAAU,WACNC,MAAM,GAAD,OAhBQ,+BAgBR,kBAAsBf,EAAtB,oBAfO,qCAgBPgB,MAAK,SAAAC,GACF,OAAIA,EAASC,GACFD,EAASE,OAEbC,QAAQC,OACX,IAAIC,MAAM,sBAGjBN,MAAK,SAAAb,GACF,OAAOC,EAAQD,MAElBoB,OAAM,SAAAC,GAAK,OAAGC,MAAMD,EAAME,cAChC,CAAC1B,IAMJ,OAAO,gCACFG,IAAQ,4BACL,mBAAQwB,KAAK,SAASC,QANb,WACbvB,EAASI,EAAaF,WAKlB,sBACA,iBAAKsB,UAAYC,EAAAA,QAAjB,WACI,gBAAKC,IAAG,UArCF,mCAqCE,OAAiB5B,EAAK6B,aAAeC,IAAK9B,EAAK+B,MAAOL,UAAWC,EAAAA,OACzE,iBAAKD,UAAWC,EAAAA,YAAhB,WACI,wBAAK3B,EAAK+B,SACV,wCAAgBC,KAAKC,MAAOjC,EAAKkC,gBACjC,sCACA,uBAAIlC,EAAKmC,kBAGjB,gBAAIT,UAAYC,EAAAA,KAAhB,WACI,yBACI,SAAC,KAAD,CAAMS,GAAE,OAAW7B,MAAOH,EAASG,MAAOmB,UAAWC,EAAAA,KAArD,qBAEJ,yBACI,SAAC,KAAD,CAAMS,GAAE,UAAa7B,MAAOH,EAASG,MAAQmB,UAAWC,EAAAA,KAAxD,8BAKZ,SAAC,EAAAU,SAAD,CAAUC,UAAU,wCAApB,UACI,UAAC,KAAD,YACI,SAAC,KAAD,CAAOC,KAAK,OAAOC,SAAS,SAAC9C,EAAD,CAAMG,QAASA,OAC3C,SAAC,KAAD,CAAO0C,KAAK,UAAUC,SAAS,SAAC5C,EAAD,CAASC,QAASA","sources":["webpack://react-homework-template/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetailsPage_wrapper__3wAUt\",\"img\":\"MovieDetailsPage_img__jzc+4\",\"decrription\":\"MovieDetailsPage_decrription__hceEA\",\"list\":\"MovieDetailsPage_list__div34\"};","import { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport { lazy, Suspense ,useState, useEffect } from \"react\";\nimport style from './MovieDetailsPage.module.css';\nimport { Link, useParams } from \"react-router-dom\";\n//import { Cast } from \"../Cast/Cast.jsx\";\n//import { Reviews } from 'components/Reviews/Reviews.jsx';\nconst Cast = lazy(() => import(\"../Cast/Cast\"));\nconst Reviews = lazy(() => import(\"../Reviews/Reviews\"));\n\nconst MovieDetailsPage = () => { \n    const BASE_URL = 'https://api.themoviedb.org/3';\n    const API_KEY = '1a27ac166727ac0de96a34161208f474';\n    const IMAGE_URL = \"https://image.tmdb.org/t/p/w500\";    \n    const DEFAULT_LOCATION_STATE = {\n        location: {\n            pathname: '/',\n            search: '',\n        }\n    }\n    const { movieId } = useParams();\n    const [film, setFilm] = useState(null);\n    const navigate = useNavigate();\n    const location = useLocation();\n    const fromLocation = location?.state?.from ?? DEFAULT_LOCATION_STATE;\n\n    useEffect(() => { \n        fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`)\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                }\n                return Promise.reject(\n                    new Error('Film not found'),\n                );\n            })\n            .then(film => {\n                return setFilm(film);\n            })\n            .catch(error=> alert(error.message))      \n    }, [movieId]);\n    \n    const onGoBack = () => { \n        navigate(fromLocation.location);\n    }\n    \n    return <>\n        {film && <div >\n            <button type='button' onClick={onGoBack}>Go back</button>\n            <div className={ style.wrapper}>\n                <img src={`${IMAGE_URL}${film.poster_path}`} alt={film.title} className={style.img}></img>\n                <div className={style.decrription}>\n                    <h2>{film.title}</h2>\n                    <p>User score: {Math.round( film.popularity)}</p>\n                    <h3>Overview</h3>\n                    <p>{film.overview}</p>\n                </div>\n            </div>\n            <ul className={ style.list}>\n                <li>\n                    <Link to={`cast`}  state={location.state} className={style.link}>Cast</Link>\n                </li>\n                <li>\n                    <Link to={`reviews`} state={location.state}  className={style.link}>Reviews</Link>\n                </li>\n            </ul>\n        </div>\n        }\n        <Suspense fallback={<div>Loading...</div>}>\n            <Routes>\n                <Route path='cast' element={<Cast movieId={movieId} />}></Route>\n                <Route path='reviews' element={<Reviews movieId={movieId} />}></Route>\n            </Routes>\n        </Suspense>\n    </>\n}\n\nexport default MovieDetailsPage;"],"names":["Cast","lazy","Reviews","movieId","useParams","useState","film","setFilm","navigate","useNavigate","location","useLocation","fromLocation","state","from","pathname","search","useEffect","fetch","then","response","ok","json","Promise","reject","Error","catch","error","alert","message","type","onClick","className","style","src","poster_path","alt","title","Math","round","popularity","overview","to","Suspense","fallback","path","element"],"sourceRoot":""}