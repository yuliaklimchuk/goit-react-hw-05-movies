"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[468],{468:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:function(){return b}});var i=r(982),c=r(885),u=r(504),l=r(871),s=r(791),f="MoviesPage_filmsLink__dlHtL",d=r(184),p=(0,s.lazy)((function(){return r.e(374).then(r.bind(r,562))})),b=function(){var e,t=(0,l.TH)(),r=(0,l.s0)(),n=null!==(e=new URLSearchParams(t.search).get("query"))&&void 0!==e?e:"",o=(0,s.useState)(n),b=(0,c.Z)(o,2),h=b[0],m=b[1],y=(0,s.useState)([]),j=(0,c.Z)(y,2),v=j[0],g=j[1];(0,s.useEffect)((function(){h&&fetch("".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("1a27ac166727ac0de96a34161208f474","&query=").concat(h,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Films not found. Please enter a valid value"))})).then((function(e){return 0===e.results.length?Promise.reject(new Error("Films not found. Please enter a valid value")):g((0,i.Z)(e.results.map((function(e){return{id:e.id,title:e.title}}))))})).catch((function(e){return O(e)}))}),[h]);var O=function(e){g([]),alert(e.message)},w=function(e){var n={query:e.toLowerCase()};r(a(a({},t),{},{search:(0,u.fW)(n).toString()}))};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:(0,d.jsx)(p,{onSubmit:function(e){m(e),w(e)}})}),0!==v.length&&(0,d.jsx)("ul",{children:v.map((function(e){var r=e.id,n=e.title;return(0,d.jsx)("li",{children:(0,d.jsx)(u.rU,{className:f,state:{from:{location:t}},to:"".concat(r),children:n})},r)}))})]})}},982:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(907);var o=r(181);function a(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=468.87ba2409.chunk.js.map